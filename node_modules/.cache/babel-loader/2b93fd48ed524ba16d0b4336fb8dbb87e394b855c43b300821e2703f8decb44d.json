{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ALE\\\\roofing-crm-system\\\\roofing-crm-system\\\\frontend\\\\src\\\\components\\\\ProjectFileManager.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Download } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProjectFileManager = ({\n  projectId\n}) => {\n  _s();\n  const [files, setFiles] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  useEffect(() => {\n    fetch(`http://localhost:5000/api/projects/${projectId}/files`).then(res => res.json()).then(data => setFiles(data.files || [])).catch(err => console.error(err));\n  }, [projectId]);\n  const handleUpload = async e => {\n    if (!e.target.files) return;\n    setUploading(true);\n    for (const file of Array.from(e.target.files)) {\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      try {\n        const res = await fetch(`http://localhost:5000/api/projects/${projectId}/files`, {\n          method: \"POST\",\n          body: formData\n        });\n        const data = await res.json();\n        if (data.success) setFiles(prev => [...prev, data.file]);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    setUploading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow p-6 mt-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold mb-4\",\n      children: \"Files\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      multiple: true,\n      onChange: handleUpload,\n      disabled: uploading,\n      className: \"mb-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), uploading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Uploading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2\",\n      children: files.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between p-2 border rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: file.originalName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: `http://localhost:5000/${file.path}`,\n          download: true,\n          children: /*#__PURE__*/_jsxDEV(Download, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, file.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(ProjectFileManager, \"/4OO3lIIM8KTyiGZidEXswtvIkE=\");\n_c = ProjectFileManager;\nexport default ProjectFileManager;\nvar _c;\n$RefreshReg$(_c, \"ProjectFileManager\");","map":{"version":3,"names":["React","useState","useEffect","Download","jsxDEV","_jsxDEV","ProjectFileManager","projectId","_s","files","setFiles","uploading","setUploading","fetch","then","res","json","data","catch","err","console","error","handleUpload","e","target","file","Array","from","formData","FormData","append","method","body","success","prev","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","multiple","onChange","disabled","map","originalName","href","path","download","id","_c","$RefreshReg$"],"sources":["C:/Users/ALE/roofing-crm-system/roofing-crm-system/frontend/src/components/ProjectFileManager.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Upload, File, Download, Eye } from \"lucide-react\";\n\nconst ProjectFileManager = ({ projectId }: { projectId: string }) => {\n  const [files, setFiles] = useState<any[]>([]);\n  const [uploading, setUploading] = useState(false);\n\n  useEffect(() => {\n    fetch(`http://localhost:5000/api/projects/${projectId}/files`)\n      .then(res => res.json())\n      .then(data => setFiles(data.files || []))\n      .catch(err => console.error(err));\n  }, [projectId]);\n\n  const handleUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (!e.target.files) return;\n    setUploading(true);\n    for (const file of Array.from(e.target.files)) {\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      try {\n        const res = await fetch(`http://localhost:5000/api/projects/${projectId}/files`, {\n          method: \"POST\",\n          body: formData\n        });\n        const data = await res.json();\n        if (data.success) setFiles(prev => [...prev, data.file]);\n      } catch (err) {\n        console.error(err);\n      }\n    }\n    setUploading(false);\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow p-6 mt-6\">\n      <h3 className=\"text-xl font-semibold mb-4\">Files</h3>\n      <input\n        type=\"file\"\n        multiple\n        onChange={handleUpload}\n        disabled={uploading}\n        className=\"mb-4\"\n      />\n      {uploading && <p>Uploading...</p>}\n      <div className=\"space-y-2\">\n        {files.map((file: any) => (\n          <div key={file.id} className=\"flex justify-between p-2 border rounded\">\n            <span>{file.originalName}</span>\n            <a href={`http://localhost:5000/${file.path}`} download>\n              <Download className=\"h-4 w-4\" />\n            </a>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectFileManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}